# Query Analysis: Understanding Performance

Learn to see what your queries are really doing!

## üîç What is Query Analysis?

Query analysis shows you HOW the database runs your query:

```
Query: SELECT * FROM orders WHERE customer_id = 123

Analysis reveals:
- Uses index? ‚úì Yes (IX_orders_customer)
- Rows scanned: 1
- Time: 0.001 seconds
```

## üìä Execution Plans

See the database's plan for your query:

```sql
-- SQL Server: Show estimated plan
SET SHOWPLAN_TEXT ON;
SELECT * FROM orders WHERE customer_id = 123;
SET SHOWPLAN_TEXT OFF;

-- PostgreSQL
EXPLAIN SELECT * FROM orders WHERE customer_id = 123;
```

## üéØ Key Metrics to Watch

| Metric              | Good       | Bad            |
| ------------------- | ---------- | -------------- |
| Scan Type           | Index Seek | Table Scan     |
| Rows Scanned        | Low        | High           |
| Cost                | Low        | High           |
| Actual vs Estimated | Close      | Very Different |

## üìà Understanding Output

```sql
EXPLAIN SELECT * FROM customers WHERE email = 'john@example.com';

-- Output:
-- Index Scan using IX_customers_email on customers
--   Filter: email = 'john@example.com'
--   Rows: 1
--   Cost: 0.01..0.50
```

Key terms:

- **Index Scan**: Uses an index (good!)
- **Seq Scan**: Reads entire table (often bad)
- **Rows**: Number of rows examined
- **Cost**: Relative cost estimate

## ‚ö° Quick Performance Check

```sql
-- SQL Server: Show actual statistics
SET STATISTICS IO ON;
SET STATISTICS TIME ON;

SELECT * FROM orders WHERE customer_id = 123;

SET STATISTICS IO OFF;
SET STATISTICS TIME OFF;
```

<QueryOptimizer mode="beginner" />

<ProgressCheckpoint section="query-analysis-complete" xpReward={30} />
