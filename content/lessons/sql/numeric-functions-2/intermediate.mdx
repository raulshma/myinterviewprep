# Advanced Numeric Functions: Practical Usage

Complex calculations for real applications.

## Financial Calculations

```sql
-- Present value calculation
SELECT future_value / POWER(1 + discount_rate, years) AS present_value
FROM cashflows;

-- Continuous compounding
SELECT principal * EXP(rate * years) AS future_value
FROM investments;

-- Loan payment (PMT formula)
SELECT
    loan_amount,
    rate,
    months,
    loan_amount * (rate/12) * POWER(1 + rate/12, months) /
    (POWER(1 + rate/12, months) - 1) AS monthly_payment
FROM loans;
```

## Logarithms

```sql
-- Natural log
SELECT LOG(100);     -- 4.605...

-- Log base 10
SELECT LOG10(100);   -- 2

-- Log base N: LOG(value) / LOG(base)
SELECT LOG(8) / LOG(2);  -- 3 (log base 2 of 8)

-- Decibels calculation
SELECT 10 * LOG10(power_out / power_in) AS decibels
FROM audio_signals;
```

## Statistical Functions

```sql
-- Aggregate statistics
SELECT
    AVG(value) AS mean,
    STDEV(value) AS std_dev,
    VAR(value) AS variance,
    COUNT(value) AS n
FROM measurements;

-- Coefficient of variation
SELECT
    STDEV(value) / AVG(value) * 100 AS cv_percent
FROM measurements;
```

## Trigonometric Functions

```sql
-- Basic trig (values in radians)
SELECT SIN(0);       -- 0
SELECT COS(0);       -- 1
SELECT TAN(PI()/4);  -- 1

-- Convert degrees to radians
SELECT SIN(RADIANS(90));  -- 1

-- Inverse trig
SELECT DEGREES(ASIN(1));  -- 90
```

## Rounding Strategies

```sql
-- Different rounding modes
SELECT ROUND(2.5, 0);    -- 3 or 2 (depends on DB - banker's rounding?)

-- Always round up (ceiling)
SELECT CEILING(2.1);     -- 3

-- Always round down (floor)
SELECT FLOOR(2.9);       -- 2

-- Truncate (no rounding)
SELECT ROUND(2.567, 2, 1);  -- 2.56 (SQL Server, truncate mode)
```

<NumericFunctionExplorer mode="intermediate" />

<ProgressCheckpoint section="numeric-functions-2-complete" xpReward={40} />
